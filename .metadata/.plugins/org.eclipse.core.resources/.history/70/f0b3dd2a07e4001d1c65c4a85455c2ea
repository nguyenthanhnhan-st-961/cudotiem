package com.cudotiem.accountservice.service;

import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;

import com.cudotiem.accountservice.dto.ProfileDto;
import com.cudotiem.accountservice.entity.Address;
import com.cudotiem.accountservice.entity.Profile;
import com.cudotiem.accountservice.repository.ProfileRepository;

public class ProfileService {

	@Autowired
	ProfileRepository profileRepository;

	public Optional<Profile> getProfile(Long id) {
		return profileRepository.findById(id);
	}

	public String addProfile(ProfileDto profileDto) {
		Address address = new Address();
		address.setProvince(profileDto.getProvince());
		address.setDistrict(profileDto.getDistrict());

		Profile profile = new Profile();
		profile.setFisrtName(profileDto.getFisrtName());
		profile.setLastName(profileDto.getLastName());
		profile.setFullName(profileDto.getFisrtName() + " " + profileDto.getLastName());
		profile.setPhoneNumber(profileDto.getPhoneNumber());
		profile.setAvatar(profileDto.getAvatar());
		profile.setAddress(address);

		return "add profile succesfully";
	}
}
